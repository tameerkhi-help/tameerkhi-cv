<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Tameerkhi - Free Professional CV Builder | Create ATS-Friendly Resumes</title>
    <meta name="description" content="Create professional, ATS-friendly CVs & resumes for FREE with Tameerkhi. 10+ templates. Download PDF, Word formats. Get hired faster with our CV builder!">
    <meta name="keywords" content="cv builder, resume maker, free cv creator, professional resume builder, ATS friendly cv, job cv maker, download cv pdf">
    <meta name="author" content="Tameerkhi">
    <meta name="robots" content="index, follow, max-image-preview:large">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“„</text></svg>">

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Tameerkhi - Free Professional CV Builder | Create ATS-Friendly Resumes">
    <meta property="og:description" content="Create professional, ATS-friendly CVs for FREE. Download in PDF/Word formats. 10+ professional templates available.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tameerkhi.com/">
    <meta property="og:image" content="https://tameerkhi.com/og-image.jpg">
    <meta property="og:site_name" content="Tameerkhi">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Tameerkhi - Free Professional CV Builder">
    <meta name="twitter:description" content="Create professional, ATS-friendly CVs for FREE. Download in PDF/Word formats.">
    <meta name="twitter:image" content="https://tameerkhi.com/twitter-image.jpg">

   <!-- Favicon - Complete & Modern -->
   <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
   <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
   <link rel="icon" type="image/svg+xml" href="/favicon.svg">
   <link rel="shortcut icon" href="/favicon.ico">
   <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
   <link rel="manifest" href="/site.webmanifest">
   <meta name="msapplication-TileColor" content="#2c3e50">
   <meta name="theme-color" content="#2c3e50">

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Tameerkhi",
      "alternateName": "Tameerkhi CV Builder",
      "url": "https://tameerkhi.com",
      "logo": "https://tameerkhi.com/logo.png",
      "description": "Tameerkhi is a free professional CV builder that helps you create stunning, ATS-friendly resumes in minutes. Choose from 10+ professional templates and download in PDF, Word, or Text formats.",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Lahore",
        "addressRegion": "Punjab",
        "addressCountry": "PK"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+92-300-1234567",
        "contactType": "customer service",
        "email": "support@tameerkhi.com",
        "areaServed": "Worldwide",
        "availableLanguage": ["English", "Urdu"]
      },
      "sameAs": [
        "https://www.facebook.com/tameerkhi",
        "https://www.twitter.com/tameerkhi",
        "https://www.linkedin.com/company/tameerkhi"
      ],
      "founder": [
        {
          "@type": "Person",
          "name": "Ahmed Raza"
        },
        {
          "@type": "Person", 
          "name": "Mohammed Maarije"
        }
      ],
      "foundingDate": "2023",
      "numberOfEmployees": "5",
      "slogan": "Craft Your Professional Identity",
      "makesOffer": [
        {
          "@type": "Offer",
          "name": "Free CV Builder",
          "description": "Create professional CVs and resumes for free with our advanced builder",
          "price": "0",
          "priceCurrency": "USD"
        }
      ],
      "areaServed": "Worldwide",
      "knowsAbout": [
        "CV Writing",
        "Resume Building", 
        "ATS Optimization",
        "Career Counseling",
        "Professional Templates"
      ]
    }
    </script>

    <!-- Additional Website Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Tameerkhi",
      "url": "https://tameerkhi.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://tameerkhi.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Tameerkhi",
        "logo": "https://tameerkhi.com/logo.png"
      }
    }
    </script>

    <!-- SoftwareApplication Schema for CV Builder -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Tameerkhi CV Builder",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "description": "Free professional CV builder to create ATS-friendly resumes with multiple templates",
      "url": "https://tameerkhi.com",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "Tameerkhi"
      },
      "featureList": [
        "10+ Professional Templates",
        "ATS-Friendly Formatting", 
        "PDF Export",
        "Word Document Export",
        "Real-time Preview",
        "Cloud Saving"
      ],
      "screenshot": "https://tameerkhi.com/screenshot.jpg",
      "softwareVersion": "2.0"
    }
    </script>
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    
    <style>
        :root {
            --primary: #2c3e50;
            --primary-dark: #1a252f;
            --secondary: #e74c3c;
            --accent: #3498db;
            --gold: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #e67e22;
            --gray: #7f8c8d;
            --border-radius: 16px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --box-shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --transition-fast: all 0.3s ease;
            
            /* Theme colors */
            --theme-blue: #3498db;
            --theme-red: #c0392b;
            --theme-green: #27ae60;
            --theme-gold: #f39c12;
            --theme-purple: #9b59b6;
            --theme-teal: #1abc9c;
            --theme-orange: #e67e22;
            
            /* Font variables */
            --font-primary: 'Inter', sans-serif;
            --font-secondary: 'Poppins', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            line-height: 1.7;
            font-family: var(--font-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 30px;
        }

        /* Enhanced Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1.2rem 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 700;
            font-family: var(--font-secondary);
            display: flex;
            align-items: center;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: var(--transition);
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo-img {
            width: 50px;
            height: 50px;
            margin-right: 12px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            color: white;
            font-weight: bold;
            font-size: 1.8rem;
            transition: var(--transition);
        }

        .logo:hover .logo-img {
            transform: rotate(10deg) scale(1.05);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 2rem;
            position: relative;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            position: relative;
            overflow: hidden;
        }

        nav ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        nav ul li a:hover::before {
            left: 100%;
        }

        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.8rem 1.8rem;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:hover::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--accent), #2980b9);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .btn-outline:hover {
            background-color: white;
            color: var(--primary);
            transform: translateY(-3px);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success), #2ecc71);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(39, 174, 96, 0.4);
        }

        .btn-gold {
            background: linear-gradient(45deg, var(--gold), #e67e22);
            color: white;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(243, 156, 18, 0.4);
        }

        /* Google Sign-In Button */
        .btn-google {
            background: white;
            color: #757575;
            border: 1px solid #dadce0;
            box-shadow: 0 2px 4px 0 rgba(0,0,0,.25);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 500;
            width: 100%;
            margin-top: 10px;
        }

        .btn-google:hover {
            box-shadow: 0 0 3px 3px rgba(66,133,244,.3);
            background: white;
            color: #757575;
            transform: translateY(-2px);
        }

        /* Enhanced Hero Section */
        .hero {
            padding: 6rem 0;
            text-align: center;
            background: linear-gradient(135deg, rgba(44, 62, 80, 0.9) 0%, rgba(26, 37, 47, 0.9) 100%), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%232c3e50"/><path d="M0 0L100 100M100 0L0 100" stroke="white" stroke-width="1" opacity="0.05"/></svg>');
            color: white;
            background-size: cover;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,192C1248,192,1344,128,1392,96L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
            background-position: center;
            animation: wave 20s linear infinite;
        }

        @keyframes wave {
            0% { background-position: 0 0; }
            100% { background-position: 1440px 0; }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.8rem;
            margin-bottom: 1.5rem;
            font-family: var(--font-secondary);
            font-weight: 700;
            background: linear-gradient(45deg, white, var(--light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            margin: 0 auto 2.5rem;
            opacity: 0.9;
            max-width: 700px;
            line-height: 1.8;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced Main Content */
        .main-content {
            display: flex;
            margin: 3rem 0;
            gap: 2rem;
            position: relative;
        }

        /* Enhanced CV Form */
        .cv-form-container {
            flex: 1;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 2.5rem;
            max-height: 75vh;
            overflow-y: auto;
            position: relative;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .cv-form-container:hover {
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .cv-form-container::-webkit-scrollbar {
            width: 8px;
        }

        .cv-form-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .cv-form-container::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, var(--accent), var(--secondary));
            border-radius: 10px;
        }

        .form-section {
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #e9ecef;
            position: relative;
            animation: slideInLeft 0.6s ease-out;
        }

        .form-section::before {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(45deg, var(--accent), var(--secondary));
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .form-section:hover::before {
            width: 100px;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-section h3 {
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-secondary);
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.7rem;
            font-weight: 600;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .optional-badge {
            background: var(--light);
            color: var(--gray);
            padding: 0.2rem 0.7rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: #fafbfc;
            font-family: var(--font-primary);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
            background: white;
            transform: translateY(-2px);
        }

        .form-row {
            display: flex;
            gap: 1.5rem;
        }

        .form-row .form-group {
            flex: 1;
        }

        .add-btn {
            background: linear-gradient(45deg, var(--success), #2ecc71);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            font-weight: 600;
            margin-top: 0.5rem;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(39, 174, 96, 0.2);
        }

        .add-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(39, 174, 96, 0.3);
        }

        .remove-btn {
            background: linear-gradient(45deg, var(--warning), #e74c3c);
            border: none;
            color: white;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .remove-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
        }

        .item-group {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            position: relative;
            border-left: 4px solid var(--accent);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            animation: slideInRight 0.6s ease-out;
        }

        .item-group:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Enhanced Templates Section */
        .templates-container {
            flex: 0 0 350px;
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .templates-section {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .templates-section:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
        }

        .templates-section h3 {
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-family: var(--font-secondary);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .template-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .template-option {
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            padding: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            background: #fafbfc;
        }

        .template-option:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .template-option.active {
            border-color: var(--accent);
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%);
            position: relative;
            overflow: hidden;
        }

        .template-option.active::after {
            content: 'âœ“';
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--success);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .template-preview {
            height: 120px;
            border-radius: 8px;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .template-preview::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.3) 100%);
        }

        /* Theme and Font Options */
        .theme-options, .font-options {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .theme-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .theme-option.active {
            border-color: var(--dark);
            transform: scale(1.1);
        }

        .theme-blue { background: var(--theme-blue); }
        .theme-red { background: var(--theme-red); }
        .theme-green { background: var(--theme-green); }
        .theme-gold { background: var(--theme-gold); }
        .theme-purple { background: var(--theme-purple); }
        .theme-teal { background: var(--theme-teal); }
        .theme-orange { background: var(--theme-orange); }

        .font-option {
            width: 40px;
            height: 40px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
        }

        .font-option.active {
            border-color: var(--accent);
            background: #f0f8ff;
        }

        /* FONT SIZE CONTROLS */
        .font-size-controls {
            margin-top: 1rem;
        }

        .font-size-slider {
            width: 100%;
            margin: 0.5rem 0;
        }

        .font-size-preview {
            text-align: center;
            margin-top: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        /* Download Options */
        .download-options {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: var(--border-radius);
        }

        .format-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .format-option {
            text-align: center;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .format-option.active {
            border-color: var(--success);
            background: #f0fff4;
        }

        .format-option:hover {
            transform: translateY(-2px);
        }

        /* TEMPLATE STYLES */
        .cv-template {
            font-family: var(--font-primary);
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .cv-template .cv-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid white;
            margin: 0 auto;
        }

        .cv-template .cv-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .cv-template.professional .cv-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 2.5rem;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .cv-template.professional .cv-name {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .cv-template.professional .cv-profession {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .cv-template.professional .cv-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 0;
        }

        .cv-template.professional .cv-sidebar {
            background: #f8f9fa;
            padding: 2rem;
        }

        .cv-template.professional .cv-main {
            padding: 2rem;
        }

        .cv-template.professional .cv-section {
            margin-bottom: 2rem;
        }

        .cv-template.professional .cv-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #3498db;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cv-template.professional .cv-contact div {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .cv-template.professional .skill-tag {
            background: #3498db;
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        .cv-template.professional .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.professional .cv-item-title {
            font-weight: 600;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .cv-template.professional .cv-item-subtitle {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
            font-style: italic;
        }

        /* Executive Template */
        .cv-template.executive {
            font-family: var(--font-primary);
            background: white;
            border: 1px solid #e0e0e0;
        }

        .cv-template.executive .cv-header {
            background: #1a252f;
            color: white;
            padding: 2.5rem;
            text-align: center;
        }

        .cv-template.executive .cv-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .cv-template.executive .cv-profession {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .cv-template.executive .cv-content {
            padding: 2.5rem;
        }

        .cv-template.executive .cv-section {
            margin-bottom: 2.5rem;
        }

        .cv-template.executive .cv-section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #c0392b;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cv-template.executive .cv-item {
            margin-bottom: 1.8rem;
        }

        .cv-template.executive .cv-item-title {
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            font-size: 1.1rem;
        }

        .cv-template.executive .cv-item-dates {
            color: #7f8c8d;
            font-weight: normal;
            font-style: italic;
        }

        .cv-template.executive .cv-item-subtitle {
            color: #e74c3c;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        /* Modern Template */
        .cv-template.modern {
            font-family: var(--font-primary);
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .cv-template.modern .cv-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 2.5rem;
            text-align: center;
        }

        .cv-template.modern .cv-name {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .cv-template.modern .cv-profession {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .cv-template.modern .cv-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 0;
        }

        .cv-template.modern .cv-sidebar {
            background: #f8f9fa;
            padding: 2rem;
        }

        .cv-template.modern .cv-main {
            padding: 2rem;
        }

        .cv-template.modern .cv-section {
            margin-bottom: 2rem;
        }

        .cv-template.modern .cv-section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #3498db;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cv-template.modern .cv-contact div {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cv-template.modern .skill-tag {
            background: #3498db;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        .cv-template.modern .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.modern .cv-item-title {
            font-weight: 600;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .cv-template.modern .cv-item-subtitle {
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }

        /* Minimal Template */
        .cv-template.minimal {
            font-family: var(--font-primary);
            background: white;
            padding: 3rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .cv-template.minimal .cv-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #ecf0f1;
        }

        .cv-template.minimal .cv-name {
            font-size: 2.8rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            letter-spacing: -0.5px;
        }

        .cv-template.minimal .cv-profession {
            font-size: 1.2rem;
            color: #95a5a6;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .cv-template.minimal .cv-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .cv-template.minimal .cv-section {
            margin-bottom: 2.5rem;
        }

        .cv-template.minimal .cv-section-title {
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cv-template.minimal .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.minimal .cv-item-title {
            font-weight: 600;
            display: flex;
            justify-content: space-between;
        }

        .cv-template.minimal .cv-item-dates {
            color: #95a5a6;
            font-weight: 400;
        }

        .cv-template.minimal .skill-tag {
            background: #ecf0f1;
            color: #2c3e50;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        /* NEW TEMPLATE STYLES */
        
        /* Academic Template */
        .cv-template.academic {
            font-family: var(--font-primary);
            background: white;
            border: 1px solid #e0e0e0;
        }

        .cv-template.academic .cv-header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 2.5rem;
            text-align: center;
        }

        .cv-template.academic .cv-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .cv-template.academic .cv-profession {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .cv-template.academic .cv-content {
            padding: 2.5rem;
        }

        .cv-template.academic .cv-section {
            margin-bottom: 2.5rem;
        }

        .cv-template.academic .cv-section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #27ae60;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cv-template.academic .cv-item {
            margin-bottom: 1.8rem;
        }

        .cv-template.academic .cv-item-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .cv-template.academic .cv-item-subtitle {
            color: #27ae60;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .cv-template.academic .cv-contact div {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .cv-template.academic .skill-tag {
            background: #27ae60;
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        /* Simple Template */
        .cv-template.simple {
            font-family: var(--font-primary);
            background: white;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .cv-template.simple .cv-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .cv-template.simple .cv-name {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }

        .cv-template.simple .cv-profession {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 1rem;
        }

        .cv-template.simple .cv-contact {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .cv-template.simple .cv-section {
            margin-bottom: 2rem;
        }

        .cv-template.simple .cv-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #bdc3c7;
        }

        .cv-template.simple .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.simple .cv-item-title {
            font-weight: 600;
            color: #2c3e50;
        }

        .cv-template.simple .cv-item-subtitle {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 0.5rem;
        }

        .cv-template.simple .skill-tag {
            background: #ecf0f1;
            color: #2c3e50;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        /* Elegant Template */
        .cv-template.elegant {
            font-family: var(--font-primary);
            background: white;
            border-left: 5px solid #9b59b6;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .cv-template.elegant .cv-header {
            background: #f8f9fa;
            padding: 2.5rem;
            border-bottom: 2px solid #9b59b6;
        }

        .cv-template.elegant .cv-name {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            letter-spacing: 2px;
        }

        .cv-template.elegant .cv-profession {
            font-size: 1.2rem;
            color: #9b59b6;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .cv-template.elegant .cv-content {
            padding: 2.5rem;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .cv-template.elegant .cv-section {
            margin-bottom: 2rem;
        }

        .cv-template.elegant .cv-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #9b59b6;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid #9b59b6;
            padding-bottom: 0.5rem;
        }

        .cv-template.elegant .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.elegant .cv-item-title {
            font-weight: 600;
            color: #2c3e50;
        }

        .cv-template.elegant .cv-item-subtitle {
            color: #9b59b6;
            margin-bottom: 0.5rem;
            font-style: italic;
        }

        .cv-template.elegant .skill-tag {
            background: #9b59b6;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        /* Technical Template */
        .cv-template.technical {
            font-family: var(--font-primary);
            background: white;
            border: 1px solid #e0e0e0;
        }

        .cv-template.technical .cv-header {
            background: linear-gradient(135deg, #e67e22, #d35400);
            color: white;
            padding: 2.5rem;
        }

        .cv-template.technical .cv-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .cv-template.technical .cv-profession {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .cv-template.technical .cv-content {
            padding: 2.5rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .cv-template.technical .cv-section {
            margin-bottom: 2rem;
        }

        .cv-template.technical .cv-section-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #e67e22;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e67e22;
            text-transform: uppercase;
        }

        .cv-template.technical .cv-item {
            margin-bottom: 1.5rem;
        }

        .cv-template.technical .cv-item-title {
            font-weight: bold;
            color: #2c3e50;
        }

        .cv-template.technical .cv-item-subtitle {
            color: #e67e22;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .cv-template.technical .skill-tag {
            background: #e67e22;
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            margin: 0.2rem;
            display: inline-block;
            font-size: 0.9rem;
        }

        /* Enhanced Preview Section */
        .preview-section {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .preview-section:hover {
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .preview-section h3 {
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-secondary);
            font-size: 1.5rem;
        }

        .cv-preview {
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
            min-height: 500px;
            padding: 2rem;
            background: white;
            overflow: auto;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        /* Photo Upload */
        .photo-upload-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .photo-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 3px solid #e9ecef;
        }

        .photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .photo-upload-btn {
            background: linear-gradient(45deg, var(--accent), #2980b9);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .photo-upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }

        /* Enhanced Footer */
        footer {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23000000" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,192C1248,192,1344,128,1392,96L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
            background-position: center;
            animation: wave 25s linear infinite;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }

        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            color: var(--gold);
            font-family: var(--font-secondary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.7rem;
        }

        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .footer-section a:hover {
            color: white;
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #bdc3c6;
            font-size: 0.9rem;
            position: relative;
            z-index: 2;
        }

        .developer-credit {
            margin-top: 1rem;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .developer-credit a {
            color: var(--gold);
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .developer-credit a:hover {
            text-decoration: underline;
            transform: translateY(-2px);
        }

        /* Template Gallery Styles */
        .template-gallery {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .template-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
            transition: var(--transition);
        }

        .template-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .template-card-img {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .template-card-body {
            padding: 1.5rem;
        }

        .template-card-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .gallery-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            color: white;
        }

        .gallery-close {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Enhanced Floating Elements */
        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
            z-index: 1;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
            }
            100% {
                transform: translateY(0) rotate(360deg);
            }
        }

        .floating-1 {
            width: 100px;
            height: 100px;
            top: 10%;
            left: 5%;
            background: linear-gradient(45deg, var(--accent), var(--secondary));
            opacity: 0.1;
        }

        .floating-2 {
            width: 150px;
            height: 150px;
            bottom: 20%;
            right: 5%;
            background: linear-gradient(45deg, var(--gold), var(--warning));
            opacity: 0.1;
            animation-delay: 2s;
        }

        .floating-3 {
            width: 80px;
            height: 80px;
            top: 40%;
            right: 10%;
            background: linear-gradient(45deg, var(--success), #2ecc71);
            opacity: 0.1;
            animation-delay: 4s;
        }

        /* Keep existing utility classes and other styles */
        .d-none {
            display: none !important;
        }
        
        .mobile-auth-buttons {
            display: none;
        }

        /* Enhanced Notification System */
        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 9999;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 350px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(45deg, var(--success), #2ecc71);
        }

        .notification.error {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        .notification.info {
            background: linear-gradient(45deg, var(--accent), #2980b9);
        }

        .notification.warning {
            background: linear-gradient(45deg, var(--warning), #d35400);
        }

        /* Enhanced Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            overflow-y: auto;
            padding: 20px 0;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 2.5rem;
            max-width: 800px;
            width: 90%;
            position: relative;
            animation: modalAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-height: 85vh;
            overflow-y: auto;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.4s ease;
            margin: auto;
        }
        
        .modal.show .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .modal-body {
            margin-bottom: 1.5rem;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        /* Spinner */
        .spinner {
            display: none;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* NEW HELP CENTER MODAL */
        .help-center-content {
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 1rem;
        }

        .help-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .help-section h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-family: var(--font-secondary);
        }

        .help-section ul {
            padding-left: 1.5rem;
        }

        .help-section li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }

        .faq-question {
            padding: 1rem;
            background: #f8f9fa;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-answer {
            padding: 1rem;
            background: white;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        /* Mobile Menu */
        .mobile-nav {
            display: none;
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            background: var(--primary-dark);
            z-index: 999;
            padding: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            animation: slideDown 0.3s ease;
        }
        
        .mobile-nav.active {
            display: block;
        }
        
        .mobile-nav ul {
            list-style: none;
            margin-bottom: 1rem;
        }
        
        .mobile-nav ul li {
            margin-bottom: 0.5rem;
        }
        
        .mobile-nav ul li a {
            color: white;
            text-decoration: none;
            padding: 0.7rem 1rem;
            display: block;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .mobile-nav ul li a:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Auto-save functionality */
        .auto-save-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            font-size: 0.8rem;
            z-index: 999;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: none;
        }
        
        /* Quick Actions Bar */
        .quick-actions {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
            background: white;
            padding: 10px;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .quick-action-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
        }
        
        .quick-action-btn:hover {
            transform: translateY(-3px) scale(1.1);
        }
        
        /* Progress Bar */
        .progress-bar {
            height: 5px;
            background: #e9ecef;
            border-radius: 5px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(45deg, var(--accent), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* NEW STYLES FOR FOUNDERS SECTION */
        .founders-container {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .founder-card {
            flex: 1;
            min-width: 300px;
            background: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: var(--transition);
        }
        
        .founder-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .founder-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 1.5rem;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .founder-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .founder-name {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-family: var(--font-secondary);
        }
        
        .founder-title {
            color: var(--accent);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .founder-description {
            color: var(--gray);
            line-height: 1.6;
        }
        
        /* Responsive Design Improvements */
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .templates-container {
                flex: 1;
                position: static;
            }
            
            .template-options {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .founders-container {
                flex-direction: column;
                align-items: center;
            }
            
            .founder-card {
                max-width: 400px;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .template-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            nav ul {
                display: none;
            }
            
            .template-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .auth-buttons {
                display: none;
            }
            
            .mobile-auth-buttons {
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
            }
            
            .cv-preview {
                padding: 1.5rem;
            }
            
            .cv-template.modern .cv-content,
            .cv-template.minimal .cv-content,
            .cv-template.professional .cv-content,
            .cv-template.elegant .cv-content,
            .cv-template.technical .cv-content {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .template-grid {
                grid-template-columns: 1fr;
            }
            
            .template-options {
                grid-template-columns: 1fr;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .container {
                padding: 0 15px;
            }
            
            .cv-form-container, .templates-section, .preview-section {
                padding: 1.5rem;
            }
            
            .cv-preview {
                padding: 1rem;
            }
            
            .hero {
                padding: 4rem 0;
            }

            .template-card-actions {
                flex-direction: column;
            }
            
            .founder-card {
                min-width: 100%;
            }
        }

        /* PDF Single Page Fix */
        .cv-preview.single-page {
            max-height: 1122px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <!-- Floating Elements -->
    <div class="floating-element floating-1"></div>
    <div class="floating-element floating-2"></div>
    <div class="floating-element floating-3"></div>

    <!-- Auto-save Indicator -->
    <div class="auto-save-indicator" id="autoSaveIndicator">
        <i class="fas fa-check"></i> Auto-saved
    </div>

    <!-- Quick Actions Bar -->
    <div class="quick-actions" id="quickActions">
        <button class="quick-action-btn" id="quickPreview" title="Preview CV">
            <i class="fas fa-eye"></i>
        </button>
        <button class="quick-action-btn" id="quickDownload" title="Download PDF">
            <i class="fas fa-download"></i>
        </button>
        <button class="quick-action-btn" id="quickSave" title="Save Online">
            <i class="fas fa-cloud"></i>
        </button>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">Operation completed successfully!</span>
    </div>

    <!-- NEW HELP CENTER MODAL -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Help Center</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body help-center-content">
                <div class="help-section">
                    <h4>How to Create Your CV</h4>
                    <ul>
                        <li><strong>Step 1:</strong> Fill in your personal information in the form</li>
                        <li><strong>Step 2:</strong> Add your work experience by clicking "Add Experience"</li>
                        <li><strong>Step 3:</strong> Add your education details</li>
                        <li><strong>Step 4:</strong> Include your skills and any additional information</li>
                        <li><strong>Step 5:</strong> Choose a template from the right sidebar</li>
                        <li><strong>Step 6:</strong> Preview your CV and make any necessary adjustments</li>
                        <li><strong>Step 7:</strong> Download your CV as PDF or save it online</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>Frequently Asked Questions</h4>
                    <div class="faq-item">
                        <div class="faq-question">
                            How do I upload my photo?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            Click the "Upload Photo" button in the Personal Information section. Select an image from your device. The photo will automatically appear in the designated area of your chosen template.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            Can I change templates after filling the form?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            Yes! You can change templates at any time. Your information will automatically transfer to the new template.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            Is my data saved automatically?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            Yes, your progress is automatically saved in your browser. For permanent storage, create an account and use the "Save Online" feature.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            What file formats can I download?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            You can download your CV in PDF, Word (DOCX), and Text formats. PDF is recommended for professional use.
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h4>Tips for a Great CV</h4>
                    <ul>
                        <li>Use action verbs to describe your accomplishments</li>
                        <li>Keep your professional summary concise and impactful</li>
                        <li>Include quantifiable achievements when possible</li>
                        <li>Tailor your CV to the specific job you're applying for</li>
                        <li>Proofread carefully for spelling and grammar errors</li>
                        <li>Use a professional email address</li>
                        <li>Keep your CV to 1-2 pages maximum</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>Need More Help?</h4>
                    <p>If you need additional assistance, please contact our support team:</p>
                    <p><i class="fas fa-envelope"></i> Email: thundertechsoft@gmail.com</p>
                    <p><i class="fas fa-phone"></i> Phone: +92 3032051922</p>
                    <p><i class="fas fa-phone"></i> Phone: +92 3093238209</p>
                    <p>We're available 24/7 to help you with any questions.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close">Close</button>
            </div>
        </div>
    </div>

    <!-- Existing Modals (Login, Register, etc.) -->
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Login to Your Account</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="loginEmail"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="your.email@example.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="Enter your password">
                </div>
                <div style="text-align: center; margin-top: 1.5rem;">
                    <div class="spinner" id="loginSpinner"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline modal-close">Cancel</button>
                <button class="btn btn-primary" id="submitLogin">Login</button>
                <button class="btn btn-google" id="googleLogin">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Create Your Account</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="registerName"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" id="registerName" class="form-control" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label for="registerEmail"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="registerEmail" class="form-control" placeholder="your.email@example.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="registerPassword" class="form-control" placeholder="Create a strong password">
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword"><i class="fas fa-lock"></i> Confirm Password</label>
                    <input type="password" id="registerConfirmPassword" class="form-control" placeholder="Confirm your password">
                </div>
                <div style="text-align: center; margin-top: 1.5rem;">
                    <div class="spinner" id="registerSpinner"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline modal-close">Cancel</button>
                <button class="btn btn-primary" id="submitRegister">Register</button>
                <button class="btn btn-google" id="googleRegister">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
            </div>
        </div>
    </div>

    <!-- Save CV Modal -->
    <div id="saveModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Save Your CV Online</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Save your CV to access it from any device and share it with employers.</p>
                <div class="form-group">
                    <label for="cvTitle"><i class="fas fa-heading"></i> CV Title</label>
                    <input type="text" id="cvTitle" class="form-control" placeholder="My Professional CV">
                </div>
                <div class="form-group">
                    <label for="cvDescription"><i class="fas fa-align-left"></i> Description (Optional)</label>
                    <textarea id="cvDescription" class="form-control" rows="3" placeholder="Brief description of this CV"></textarea>
                </div>
                <div style="text-align: center; margin-top: 1.5rem;">
                    <div class="spinner" id="saveSpinner"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline modal-close">Cancel</button>
                <button class="btn btn-success" id="submitSave">Save CV</button>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Privacy Policy</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <h4>Information We Collect</h4>
                <p>We collect information you provide directly to us when using our CV Builder service, including:</p>
                <ul style="padding-left: 1.5rem; margin-bottom: 1rem;">
                    <li>Personal and professional information you enter in your CV</li>
                    <li>Account information if you create an account</li>
                    <li>Usage data and analytics</li>
                </ul>
                
                <h4>How We Use Your Information</h4>
                <p>We use the information we collect to:</p>
                <ul style="padding-left: 1.5rem; margin-bottom: 1rem;">
                    <li>Generate and format your CV according to your preferences</li>
                    <li>Improve our services and user experience</li>
                    <li>Communicate with you about your account and our services</li>
                </ul>
                
                <h4>Data Security</h4>
                <p>We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction.</p>
                
                <h4>Contact Us</h4>
                <p>If you have any questions about this Privacy Policy, please contact us at privacy@tameerkhi.com.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close">Close</button>
            </div>
        </div>
    </div>

    <!-- About Us Modal - UPDATED WITH FOUNDERS -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">About Tameerkhi</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Tameerkhi is a premium CV builder platform designed to help professionals create stunning, ATS-friendly resumes that get noticed by top employers. Our mission is to empower job seekers worldwide with professional tools that simplify the CV creation process and increase their chances of landing their dream job.</p>
                
                <div class="mission-section">
                    <h4>Our Mission</h4>
                    <p>To empower job seekers worldwide with professional tools that simplify the CV creation process and increase their chances of landing their dream job.</p>
                </div>
                
                <!-- UPDATED FOUNDERS SECTION -->
                <div class="founder-section">
                    <h4>Our Leadership Team</h4>
                    <div class="founders-container">
                        <div class="founder-card">
                            <div class="founder-photo">
                                <img src="https://i.ibb.co/Lhd7rK7w/1757765992668.png" alt="Ahmed Raza - Founder and Developer" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\"fas fa-user\" style=\"font-size: 4rem; color: #3498db;\"></i>';">
                            </div>
                            <div class="founder-name">Ahmed Raza</div>
                            <div class="founder-title">Founder and Developer</div>
                            <div class="founder-description">
                                Ahmed Raza is a passionate entrepreneur dedicated to helping people through innovation and technology. He believes that every individual deserves a fair chance to build their career, regardless of their background or financial situation.
                            </div>
                        </div>
                        
                        <div class="founder-card">
                            <div class="founder-photo">
                                <img src="https://i.ibb.co/LzN2hXND/IMG-20251025-WA0006.jpg" alt="Mohammed Maarije - Founder and CEO" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\"fas fa-user\" style=\"font-size: 4rem; color: #3498db;\"></i>';">
                            </div>
                            <div class="founder-name">Mohammed Maarije</div>
                            <div class="founder-title">Founder and CEO</div>
                            <div class="founder-description">
                                Mohammed Maarije is the visionary Founder and CEO of Tameerkhi, a platform created to help people build their professional CVs easily and completely free of cost. His mission is to use technology to make career growth simple and accessible for everyone.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close">Close</button>
            </div>
        </div>
    </div>

    <!-- Contact Us Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color: var(--primary); font-family: var(--font-secondary);">Contact Us</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>We'd love to hear from you! Send us a message and we'll respond as soon as possible.</p>
                
                <div class="form-group">
                    <label for="contactName"><i class="fas fa-user"></i> Your Name</label>
                    <input type="text" id="contactName" class="form-control" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label for="contactEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="contactEmail" class="form-control" placeholder="your.email@example.com">
                </div>
                <div class="form-group">
                    <label for="contactMessage"><i class="fas fa-comment"></i> Message</label>
                    <textarea id="contactMessage" class="form-control" rows="5" placeholder="How can we help you?"></textarea>
                </div>
                
                <div style="margin-top: 1.5rem;">
                    <h4>Other Contact Methods</h4>
                    <p><i class="fas fa-envelope"></i> Email: thundertechsoft@gmail.com</p>
                    <p><i class="fas fa-phone"></i> Phone: +92 3032051922</p>
                    <p><i class="fas fa-phone"></i> Phone: +92 3093238209</p>
                </div>
                
                <div style="text-align: center; margin-top: 1.5rem;">
                    <div class="spinner" id="contactSpinner"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline modal-close">Cancel</button>
                <button class="btn btn-primary" id="submitContact">Send Message</button>
            </div>
        </div>
    </div>

    <!-- Template Gallery Modal - UPDATED WITH 10 TEMPLATES -->
    <div id="templateGallery" class="template-gallery">
        <div class="container">
            <div class="gallery-header">
                <h2 style="font-family: var(--font-secondary); color: white;">Choose Your CV Template</h2>
                <button class="gallery-close">&times;</button>
            </div>
            <div class="template-grid">
                <!-- Modern Template -->
                <div class="template-card" data-template="modern">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #2c3e50, #34495e);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">MODERN</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Clean & Professional</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Modern</h4>
                        <p>Clean, contemporary design with a focus on readability and modern aesthetics.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Minimal Template -->
                <div class="template-card" data-template="minimal">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #95a5a6, #7f8c8d);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">MINIMAL</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Simple & Elegant</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Minimal</h4>
                        <p>Simple, elegant design with clean lines and a focus on content.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Business Template -->
                <div class="template-card" data-template="business">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #c0392b, #e74c3c);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">BUSINESS</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Professional & Formal</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Business</h4>
                        <p>Professional and formal design perfect for corporate environments.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Creative Template -->
                <div class="template-card" data-template="creative">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">CREATIVE</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Unique & Expressive</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Creative</h4>
                        <p>Unique and expressive design for creative professionals and artists.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Professional Template -->
                <div class="template-card" data-template="professional">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #3498db, #2980b9);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">PROFESSIONAL</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Corporate & Refined</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Professional</h4>
                        <p>Corporate-ready design with photo support and balanced layout.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Executive Template -->
                <div class="template-card" data-template="executive">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #2c3e50, #1a252f);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">EXECUTIVE</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Leadership Focused</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Executive</h4>
                        <p>Sophisticated design for senior-level professionals and executives.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Academic Template -->
                <div class="template-card" data-template="academic">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #27ae60, #2ecc71);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">ACADEMIC</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Research & Education</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Academic</h4>
                        <p>Designed for researchers, educators, and academic professionals.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Simple Template -->
                <div class="template-card" data-template="simple">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #7f8c8d, #95a5a6);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">SIMPLE</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Clean & Straightforward</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Simple</h4>
                        <p>Clean and straightforward design for quick and easy CV creation.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Elegant Template -->
                <div class="template-card" data-template="elegant">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">ELEGANT</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Sophisticated & Refined</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Elegant</h4>
                        <p>Sophisticated and refined design for professionals who value aesthetics.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
                
                <!-- Technical Template -->
                <div class="template-card" data-template="technical">
                    <div class="template-card-img" style="background: linear-gradient(45deg, #e67e22, #d35400);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: bold; margin-bottom: 0.5rem;">TECHNICAL</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Developer Focused</div>
                        </div>
                    </div>
                    <div class="template-card-body">
                        <h4>Technical</h4>
                        <p>Designed specifically for developers and technical professionals.</p>
                        <div class="template-card-actions">
                            <button class="btn btn-outline preview-template">Preview</button>
                            <button class="btn btn-primary use-template">Use This Template</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <!-- LOGO -->
                <div class="logo">
                    <div class="logo-img">CV</div>
                    Tameerkhi
                </div>
                <nav>
                    <ul>
                        <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="#builder"><i class="fas fa-pencil-alt"></i> CV Builder</a></li>
                        <li><a href="#templates"><i class="fas fa-palette"></i> Templates</a></li>
                        <li><a href="#" id="aboutHeaderBtn"><i class="fas fa-info-circle"></i> About</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <button class="btn btn-outline" id="loginBtn"><i class="fas fa-sign-in-alt"></i> Login</button>
                    <button class="btn btn-primary" id="registerBtn"><i class="fas fa-user-plus"></i> Register</button>
                    <button class="btn btn-outline d-none" id="adminBtn"><i class="fas fa-cog"></i> Admin Panel</button>
                    <button class="btn btn-outline d-none" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
                </div>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <div class="container">
            <ul>
                <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="#builder"><i class="fas fa-pencil-alt"></i> CV Builder</a></li>
                <li><a href="#templates"><i class="fas fa-palette"></i> Templates</a></li>
                <li><a href="#" id="mobileAboutBtn"><i class="fas fa-info-circle"></i> About Us</a></li>
            </ul>
            <div class="mobile-auth-buttons">
                <button class="btn btn-outline" id="mobileLoginBtn"><i class="fas fa-sign-in-alt"></i> Login</button>
                <button class="btn btn-primary" id="mobileRegisterBtn"><i class="fas fa-user-plus"></i> Register</button>
                <button class="btn btn-outline d-none" id="mobileAdminBtn"><i class="fas fa-cog"></i> Admin Panel</button>
                <button class="btn btn-outline d-none" id="mobileLogoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Craft Your Professional Identity</h1>
                <p>Create stunning, ATS-friendly resumes that get you noticed by top employers. Our premium CV builder makes it effortless.</p>
                <div class="hero-buttons">
                    <button class="btn btn-success" id="startBuildingBtn" style="padding: 1rem 2.5rem; font-size: 1.2rem;">
                        <i class="fas fa-rocket"></i> Start Building Now
                    </button>
                    <button class="btn btn-gold" id="viewTemplatesBtn" style="padding: 1rem 2rem;">
                        <i class="fas fa-eye"></i> View Templates
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress" id="cvProgress"></div>
        </div>

        <div class="main-content">
            <!-- CV Form - CLEAN FOR NEW USERS -->
            <div class="cv-form-container" id="builder">
                <h2 style="color: var(--primary); font-family: var(--font-secondary); margin-bottom: 0.5rem;">Build Your Premium CV</h2>
                <p style="color: var(--gray); margin-bottom: 2rem;">Fill in your details below to create your professional CV</p>
                
                <div class="form-section">
                    <h3><i class="fas fa-user"></i> Personal Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName"><i class="fas fa-signature"></i> Full Name</label>
                            <input type="text" id="fullName" class="form-control" placeholder="Enter your full name">
                        </div>
                        <div class="form-group">
                            <label for="profession"><i class="fas fa-briefcase"></i> Profession</label>
                            <input type="text" id="profession" class="form-control" placeholder="Your profession">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email"><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="email" class="form-control" placeholder="your.email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="phone"><i class="fas fa-phone"></i> Phone</label>
                            <input type="tel" id="phone" class="form-control" placeholder="+1 (555) 123-4567">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address"><i class="fas fa-map-marker-alt"></i> Address <span class="optional-badge">Optional</span></label>
                        <input type="text" id="address" class="form-control" placeholder="City, Country">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-camera"></i> Photo <span class="optional-badge">Optional</span></label>
                        <div class="photo-upload-container">
                            <div class="photo-preview" id="photoPreview">
                                <i class="fas fa-user" style="font-size: 3rem;"></i>
                            </div>
                            <input type="file" id="photoUpload" accept="image/*" style="display: none;">
                            <button class="photo-upload-btn" id="photoUploadBtn">
                                <i class="fas fa-upload"></i> Upload Photo
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="linkedin"><i class="fab fa-linkedin"></i> LinkedIn Profile <span class="optional-badge">Optional</span></label>
                        <input type="url" id="linkedin" class="form-control" placeholder="https://linkedin.com/in/yourprofile">
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fas fa-file-alt"></i> Professional Summary</h3>
                    <div class="form-group">
                        <label for="summary">Summary <span class="optional-badge">Recommended</span></label>
                        <textarea id="summary" class="form-control" rows="4" placeholder="Briefly describe your professional background and key skills..."></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fas fa-briefcase"></i> Work Experience <button class="add-btn" id="addExperience"><i class="fas fa-plus"></i> Add Experience</button></h3>
                    <div id="experienceContainer">
                        <!-- Experience fields will be added here dynamically -->
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fas fa-graduation-cap"></i> Education <button class="add-btn" id="addEducation"><i class="fas fa-plus"></i> Add Education</button></h3>
                    <div id="educationContainer">
                        <!-- Education fields will be added here dynamically -->
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fas fa-tools"></i> Skills <button class="add-btn" id="addSkill"><i class="fas fa-plus"></i> Add Skill</button></h3>
                    <div id="skillsContainer">
                        <!-- Skill fields will be added here dynamically -->
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fas fa-plus-circle"></i> Additional Sections</h3>
                    <div class="form-group">
                        <label for="languages"><i class="fas fa-language"></i> Languages <span class="optional-badge">Optional</span></label>
                        <input type="text" id="languages" class="form-control" placeholder="English (Native), Spanish (Intermediate)">
                    </div>
                    <div class="form-group">
                        <label for="certifications"><i class="fas fa-award"></i> Certifications <span class="optional-badge">Optional</span></label>
                        <textarea id="certifications" class="form-control" rows="3" placeholder="List your certifications..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="projects"><i class="fas fa-project-diagram"></i> Projects <span class="optional-badge">Optional</span></label>
                        <textarea id="projects" class="form-control" rows="3" placeholder="Describe your key projects..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="interests"><i class="fas fa-heart"></i> Interests <span class="optional-badge">Optional</span></label>
                        <input type="text" id="interests" class="form-control" placeholder="Photography, Travel, Reading">
                    </div>
                </div>
            </div>

            <!-- Templates Section - UPDATED WITH 10 TEMPLATES -->
            <div class="templates-container" id="templates">
                <div class="templates-section">
                    <h3><i class="fas fa-palette"></i> Choose a Template</h3>
                    <div class="template-options">
                        <div class="template-option active" data-template="modern">
                            <div class="template-preview" style="background: linear-gradient(45deg, #2c3e50, #34495e);">Modern</div>
                            <div>Clean & Professional</div>
                        </div>
                        <div class="template-option" data-template="minimal">
                            <div class="template-preview" style="background: linear-gradient(45deg, #95a5a6, #7f8c8d);">Minimal</div>
                            <div>Simple & Elegant</div>
                        </div>
                        <div class="template-option" data-template="business">
                            <div class="template-preview" style="background: linear-gradient(45deg, #c0392b, #e74c3c);">Business</div>
                            <div>Professional & Formal</div>
                        </div>
                        <div class="template-option" data-template="creative">
                            <div class="template-preview" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">Creative</div>
                            <div>Unique & Expressive</div>
                        </div>
                        <div class="template-option" data-template="professional">
                            <div class="template-preview" style="background: linear-gradient(45deg, #3498db, #2980b9);">Professional</div>
                            <div>Corporate & Refined</div>
                        </div>
                        <div class="template-option" data-template="executive">
                            <div class="template-preview" style="background: linear-gradient(45deg, #2c3e50, #1a252f);">Executive</div>
                            <div>Leadership Focused</div>
                        </div>
                        <div class="template-option" data-template="academic">
                            <div class="template-preview" style="background: linear-gradient(45deg, #27ae60, #2ecc71);">Academic</div>
                            <div>Research & Education</div>
                        </div>
                        <div class="template-option" data-template="simple">
                            <div class="template-preview" style="background: linear-gradient(45deg, #7f8c8d, #95a5a6);">Simple</div>
                            <div>Clean & Straightforward</div>
                        </div>
                        <div class="template-option" data-template="elegant">
                            <div class="template-preview" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">Elegant</div>
                            <div>Sophisticated & Refined</div>
                        </div>
                        <div class="template-option" data-template="technical">
                            <div class="template-preview" style="background: linear-gradient(45deg, #e67e22, #d35400);">Technical</div>
                            <div>Developer Focused</div>
                        </div>
                    </div>
                    <button class="btn btn-outline" style="width: 100%; margin-top: 1.5rem; border-color: var(--accent); color: var(--accent);" id="viewAllTemplatesBtn">
                        <i class="fas fa-th-large"></i> View All Templates
                    </button>
                </div>

                <div class="templates-section">
                    <h3><i class="fas fa-paint-brush"></i> Customization</h3>
                    
                    <div class="theme-selector">
                        <label style="margin-bottom: 0.8rem; display: block;">Color Theme</label>
                        <div class="theme-options">
                            <div class="theme-option theme-blue active" data-theme="blue"></div>
                            <div class="theme-option theme-red" data-theme="red"></div>
                            <div class="theme-option theme-green" data-theme="green"></div>
                            <div class="theme-option theme-gold" data-theme="gold"></div>
                            <div class="theme-option theme-purple" data-theme="purple"></div>
                        </div>
                    </div>
                    
                    <div class="font-selector">
                        <label style="margin-bottom: 0.8rem; display: block;">Font Family</label>
                        <div class="font-options">
                            <div class="font-option active" data-font="inter" style="font-family: 'Inter', sans-serif;">Aa</div>
                            <div class="font-option" data-font="poppins" style="font-family: 'Poppins', sans-serif;">Aa</div>
                        </div>
                    </div>

                    <!-- FONT SIZE CONTROLS -->
                    <div class="font-size-controls">
                        <label style="margin-bottom: 0.8rem; display: block;">Font Size</label>
                        <input type="range" min="12" max="24" value="16" class="font-size-slider" id="fontSizeSlider">
                        <div class="font-size-preview" id="fontSizePreview" style="font-size: 16px;">
                            Font Size Preview - Aa
                        </div>
                    </div>
                </div>

                <div class="templates-section">
                    <h3><i class="fas fa-cogs"></i> Actions</h3>
                    <button class="btn btn-primary" style="width: 100%; margin-bottom: 1rem; padding: 1rem;" id="previewBtn">
                        <i class="fas fa-eye"></i> Preview CV
                    </button>
                    <button class="btn btn-success" style="width: 100%; padding: 1rem;" id="downloadBtn">
                        <i class="fas fa-download"></i> Download PDF
                    </button>
                    <button class="btn btn-gold" style="width: 100%; margin-top: 1rem; padding: 1rem;" id="saveBtn">
                        <i class="fas fa-cloud-upload-alt"></i> Save Online
                    </button>
                    
                    <!-- Download Options -->
                    <div class="download-options" id="downloadOptions">
                        <h4>Choose Download Format</h4>
                        <div class="format-options">
                            <div class="format-option active" data-format="pdf">
                                <i class="fas fa-file-pdf" style="font-size: 2rem; color: #e74c3c; margin-bottom: 0.5rem;"></i>
                                <div>PDF</div>
                                <small>High Quality</small>
                            </div>
                            <div class="format-option" data-format="docx">
                                <i class="fas fa-file-word" style="font-size: 2rem; color: #2b579a; margin-bottom: 0.5rem;"></i>
                                <div>Word</div>
                                <small>Editable</small>
                            </div>
                            <div class="format-option" data-format="txt">
                                <i class="fas fa-file-alt" style="font-size: 2rem; color: #7f8c8d; margin-bottom: 0.5rem;"></i>
                                <div>Text</div>
                                <small>Plain Text</small>
                            </div>
                        </div>
                        <button class="btn btn-success" style="width: 100%; margin-top: 1rem;" id="confirmDownload">
                            <i class="fas fa-download"></i> Download Now
                        </button>
                    </div>
                </div>

                <div class="templates-section">
                    <h3><i class="fas fa-lightbulb"></i> Tips</h3>
                    <div style="font-size: 0.9rem; color: var(--gray);">
                        <p><i class="fas fa-check-circle" style="color: var(--success);"></i> Use action verbs in your experience</p>
                        <p><i class="fas fa-check-circle" style="color: var(--success);"></i> Keep your summary concise and impactful</p>
                        <p><i class="fas fa-check-circle" style="color: var(--success);"></i> Tailor your CV to the job you're applying for</p>
                        <p><i class="fas fa-check-circle" style="color: var(--success);"></i> Use quantifiable achievements when possible</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Section -->
        <div class="preview-section">
            <h3><i class="fas fa-file-pdf"></i> CV Preview <span>Template: <span id="currentTemplate">Modern</span></span></h3>
            <div class="cv-preview" id="cvPreview">
                <!-- CV content will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="about">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Tameerkhi CV Builder</h3>
                    <p>Creating professional resumes for job seekers worldwide. Free, easy, and effective.</p>
                    <div style="margin-top: 1.5rem;">
                        <a href="#" style="margin-right: 1rem;"><i class="fab fa-facebook"></i></a>
                        <a href="#" style="margin-right: 1rem;"><i class="fab fa-twitter"></i></a>
                        <a href="#" style="margin-right: 1rem;"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#builder"><i class="fas fa-chevron-right"></i> CV Builder</a></li>
                        <li><a href="#templates"><i class="fas fa-chevron-right"></i> Templates</a></li>
                        <li><a href="#" id="aboutFooterBtn"><i class="fas fa-chevron-right"></i> About Us</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a id="helpLink"><i class="fas fa-chevron-right"></i> Help Center</a></li>
                        <li><a id="contactLink"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                        <li><a id="privacyLink"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a id="aboutLinkFooter"><i class="fas fa-chevron-right"></i> About Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2025 Tameerkhi. All rights reserved. | Crafted with <i class="fas fa-heart" style="color: #e74c3c;"></i> for professionals
            </div>
        </div>
    </footer>

    <!-- Hidden container for PDF generation -->
    <div id="pdf-container" style="position: absolute; left: -9999px; top: -9999px;"></div>

    <script>
        // SECURE Firebase configuration with error handling
        const firebaseConfig = {
            apiKey: "AIzaSyAdOwMj250weD2L_RWBpNplNF5OmM1R6j8",
            authDomain: "cv-build-tameerkhi.firebaseapp.com",
            databaseURL: "https://cv-build-tameerkhi-default-rtdb.firebaseio.com",
            projectId: "cv-build-tameerkhi",
            storageBucket: "cv-build-tameerkhi.appspot.com",
            messagingSenderId: "453337479839",
            appId: "1:453337479839:web:4ef4cd57c9c409aacb80aa",
            measurementId: "G-VNGDH8HB5F"
        };

        // Initialize Firebase with SECURE error handling
        let auth, database, storage, analytics;
        try {
            if (firebase.apps.length === 0) {
                firebase.initializeApp(firebaseConfig);
            }
            auth = firebase.auth();
            database = firebase.database();
            storage = firebase.storage();
            analytics = firebase.analytics();
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.error("Firebase initialization error:", error);
            // Provide SECURE fallback functionality
            auth = { 
                currentUser: null,
                signInWithEmailAndPassword: () => Promise.reject(new Error("Firebase not available")),
                createUserWithEmailAndPassword: () => Promise.reject(new Error("Firebase not available")),
                signOut: () => Promise.reject(new Error("Firebase not available"))
            };
            database = {
                ref: () => ({ set: () => Promise.reject(new Error("Firebase not available")) })
            };
        }

        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Tameerkhi CV Builder - DOM fully loaded");
            
            // Initialize auto-save functionality
            initAutoSave();
            
            // Initialize progress bar
            updateProgressBar();
            
            // Initialize the CV builder with default preview
            generatePreview();
            
            // Add event listeners to all form inputs for real-time preview
            document.querySelectorAll('input, textarea').forEach(input => {
                input.addEventListener('input', function() {
                    generatePreview();
                    updateProgressBar();
                    // Auto-save after a delay
                    clearTimeout(window.autoSaveTimeout);
                    window.autoSaveTimeout = setTimeout(autoSaveData, 1000);
                });
            });
            
            // Template selection functionality
            document.querySelectorAll('.template-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Remove active class from all options
                    document.querySelectorAll('.template-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // Add active class to clicked option
                    this.classList.add('active');
                    
                    // Update current template display
                    const templateName = this.getAttribute('data-template');
                    document.getElementById('currentTemplate').textContent = 
                        templateName.charAt(0).toUpperCase() + templateName.slice(1);
                    
                    // Regenerate preview with new template
                    generatePreview();
                });
            });
            
            // Theme selection functionality
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Remove active class from all options
                    document.querySelectorAll('.theme-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // Add active class to clicked option
                    this.classList.add('active');
                    
                    // Apply theme colors
                    applyTheme(this.getAttribute('data-theme'));
                    
                    // Regenerate preview with new theme
                    generatePreview();
                });
            });
            
            // Font selection functionality
            document.querySelectorAll('.font-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Remove active class from all options
                    document.querySelectorAll('.font-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // Add active class to clicked option
                    this.classList.add('active');
                    
                    // Apply selected font
                    applyFont(this.getAttribute('data-font'));
                    
                    // Regenerate preview with new font
                    generatePreview();
                });
            });
            
            // FONT SIZE FUNCTIONALITY
            const fontSizeSlider = document.getElementById('fontSizeSlider');
            const fontSizePreview = document.getElementById('fontSizePreview');
            
            fontSizeSlider.addEventListener('input', function() {
                const fontSize = this.value + 'px';
                fontSizePreview.style.fontSize = fontSize;
                applyFontSize(fontSize);
                generatePreview();
            });
            
            // Quick action buttons
            document.getElementById('quickPreview').addEventListener('click', function() {
                document.querySelector('.preview-section').scrollIntoView({ behavior: 'smooth' });
                showNotification('CV preview updated successfully', 'success');
            });
            
            document.getElementById('quickDownload').addEventListener('click', function() {
                downloadCV('pdf');
            });
            
            document.getElementById('quickSave').addEventListener('click', function() {
                document.getElementById('saveModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('saveModal').classList.add('show');
                }, 10);
            });
            
            // Button functionality
            document.getElementById('startBuildingBtn').addEventListener('click', function() {
                document.getElementById('builder').scrollIntoView({ behavior: 'smooth' });
                showNotification('Start building your professional CV!', 'success');
            });
            
            document.getElementById('viewTemplatesBtn').addEventListener('click', function() {
                document.getElementById('templates').scrollIntoView({ behavior: 'smooth' });
                showNotification('Browse our professional CV templates', 'info');
            });
            
            document.getElementById('previewBtn').addEventListener('click', function() {
                document.querySelector('.preview-section').scrollIntoView({ behavior: 'smooth' });
                showNotification('CV preview updated successfully', 'success');
            });
            
            document.getElementById('downloadBtn').addEventListener('click', function() {
                // Show download options
                const downloadOptions = document.getElementById('downloadOptions');
                downloadOptions.style.display = downloadOptions.style.display === 'block' ? 'none' : 'block';
            });
            
            document.getElementById('saveBtn').addEventListener('click', function() {
                // Show save modal
                document.getElementById('saveModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('saveModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('viewAllTemplatesBtn').addEventListener('click', function() {
                // Show template gallery
                document.getElementById('templateGallery').style.display = 'block';
            });
            
            // FIXED ABOUT BUTTONS - All about buttons now work
            document.getElementById('aboutHeaderBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('aboutModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('aboutModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('mobileAboutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('aboutModal').style.display = 'flex';
                document.getElementById('mobileNav').classList.remove('active');
                setTimeout(() => {
                    document.getElementById('aboutModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('aboutFooterBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('aboutModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('aboutModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('aboutLinkFooter').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('aboutModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('aboutModal').classList.add('show');
                }, 10);
            });
            
            // NEW HELP CENTER FUNCTIONALITY
            document.getElementById('helpLink').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('helpModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('helpModal').classList.add('show');
                }, 10);
            });
            
            // FAQ functionality
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentElement;
                    faqItem.classList.toggle('active');
                });
            });
            
            // Login/Register functionality
            document.getElementById('loginBtn').addEventListener('click', function() {
                document.getElementById('loginModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('loginModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('registerBtn').addEventListener('click', function() {
                document.getElementById('registerModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('registerModal').classList.add('show');
                }, 10);
            });
            
            // Mobile login/register buttons
            document.getElementById('mobileLoginBtn').addEventListener('click', function() {
                document.getElementById('loginModal').style.display = 'flex';
                document.getElementById('mobileNav').classList.remove('active');
                setTimeout(() => {
                    document.getElementById('loginModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('mobileRegisterBtn').addEventListener('click', function() {
                document.getElementById('registerModal').style.display = 'flex';
                document.getElementById('mobileNav').classList.remove('active');
                setTimeout(() => {
                    document.getElementById('registerModal').classList.add('show');
                }, 10);
            });
            
            // FIXED CLOSE MODAL FUNCTIONALITY - All close buttons now work
            document.querySelectorAll('.modal-close, .gallery-close').forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal') || this.closest('.template-gallery');
                    if (modal) {
                        modal.classList.remove('show');
                        setTimeout(() => {
                            modal.style.display = 'none';
                        }, 400);
                    }
                });
            });
            
            // Close modals when clicking outside
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('show');
                        setTimeout(() => {
                            this.style.display = 'none';
                        }, 400);
                    }
                });
            });
            
            // Footer link functionality
            document.getElementById('privacyLink').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('privacyModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('privacyModal').classList.add('show');
                }, 10);
            });
            
            document.getElementById('contactLink').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('contactModal').style.display = 'flex';
                setTimeout(() => {
                    document.getElementById('contactModal').classList.add('show');
                }, 10);
            });
            
            // Format selection for download
            document.querySelectorAll('.format-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.format-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            // Confirm download button
            document.getElementById('confirmDownload').addEventListener('click', function() {
                const format = document.querySelector('.format-option.active').getAttribute('data-format');
                downloadCV(format);
                
                // Close download options
                document.getElementById('downloadOptions').style.display = 'none';
                
                // Close template gallery if open
                document.getElementById('templateGallery').style.display = 'none';
                
                // Close template gallery if open
                document.getElementById('templateGallery').style.display = 'none';
            });
            
            // Submit login form
            document.getElementById('submitLogin').addEventListener('click', function() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!email || !password) {
                    showNotification('Please fill in all fields', 'error');
                    return;
                }
                
                // Show loading spinner
                document.getElementById('loginSpinner').style.display = 'block';
                
                // Firebase login
                auth.signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Signed in
                        const user = userCredential.user;
                        document.getElementById('loginSpinner').style.display = 'none';
                        document.getElementById('loginModal').classList.remove('show');
                        setTimeout(() => {
                            document.getElementById('loginModal').style.display = 'none';
                        }, 400);
                        showNotification('Login successful!', 'success');
                        
                        // Update UI for logged in user
                        document.getElementById('loginBtn').classList.add('d-none');
                        document.getElementById('registerBtn').classList.add('d-none');
                        document.getElementById('adminBtn').classList.remove('d-none');
                        document.getElementById('logoutBtn').classList.remove('d-none');
                        
                        // Update mobile buttons
                        document.getElementById('mobileLoginBtn').classList.add('d-none');
                        document.getElementById('mobileRegisterBtn').classList.add('d-none');
                        document.getElementById('mobileAdminBtn').classList.remove('d-none');
                        document.getElementById('mobileLogoutBtn').classList.remove('d-none');
                        
                        // Clear form fields
                        document.getElementById('loginEmail').value = '';
                        document.getElementById('loginPassword').value = '';
                    })
                    .catch((error) => {
                        document.getElementById('loginSpinner').style.display = 'none';
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        showNotification('Login failed: ' + errorMessage, 'error');
                    });
            });
            
            // Submit register form
            document.getElementById('submitRegister').addEventListener('click', function() {
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('registerConfirmPassword').value;
                
                if (!name || !email || !password || !confirmPassword) {
                    showNotification('Please fill in all fields', 'error');
                    return;
                }
                
                if (password !== confirmPassword) {
                    showNotification('Passwords do not match', 'error');
                    return;
                }
                
                // Show loading spinner
                document.getElementById('registerSpinner').style.display = 'block';
                
                // Firebase registration
                auth.createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Signed up
                        const user = userCredential.user;
                        
                        // Save user data to database
                        database.ref('users/' + user.uid).set({
                            name: name,
                            email: email,
                            createdAt: new Date().toISOString()
                        }).then(() => {
                            document.getElementById('registerSpinner').style.display = 'none';
                            document.getElementById('registerModal').classList.remove('show');
                            setTimeout(() => {
                                document.getElementById('registerModal').style.display = 'none';
                            }, 400);
                            showNotification('Registration successful!', 'success');
                            
                            // Clear form fields
                            document.getElementById('registerName').value = '';
                            document.getElementById('registerEmail').value = '';
                            document.getElementById('registerPassword').value = '';
                            document.getElementById('registerConfirmPassword').value = '';
                        });
                    })
                    .catch((error) => {
                        document.getElementById('registerSpinner').style.display = 'none';
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        showNotification('Registration failed: ' + errorMessage, 'error');
                    });
            });
            
            // Google Sign-In functionality - FIXED AND WORKING
            document.getElementById('googleLogin').addEventListener('click', function() {
                const provider = new firebase.auth.GoogleAuthProvider();
                
                auth.signInWithPopup(provider)
                    .then((result) => {
                        // Signed in
                        const user = result.user;
                        showNotification('Google Sign-In successful!', 'success');
                        
                        // Update UI for logged in user
                        document.getElementById('loginBtn').classList.add('d-none');
                        document.getElementById('registerBtn').classList.add('d-none');
                        document.getElementById('adminBtn').classList.remove('d-none');
                        document.getElementById('logoutBtn').classList.remove('d-none');
                        
                        // Update mobile buttons
                        document.getElementById('mobileLoginBtn').classList.add('d-none');
                        document.getElementById('mobileRegisterBtn').classList.add('d-none');
                        document.getElementById('mobileAdminBtn').classList.remove('d-none');
                        document.getElementById('mobileLogoutBtn').classList.remove('d-none');
                        
                        // Close login modal
                        document.getElementById('loginModal').classList.remove('show');
                        setTimeout(() => {
                            document.getElementById('loginModal').style.display = 'none';
                        }, 400);
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        showNotification('Google Sign-In failed: ' + errorMessage, 'error');
                    });
            });
            
            document.getElementById('googleRegister').addEventListener('click', function() {
                const provider = new firebase.auth.GoogleAuthProvider();
                
                auth.signInWithPopup(provider)
                    .then((result) => {
                        // Signed in
                        const user = result.user;
                        showNotification('Google Sign-In successful!', 'success');
                        
                        // Update UI for logged in user
                        document.getElementById('loginBtn').classList.add('d-none');
                        document.getElementById('registerBtn').classList.add('d-none');
                        document.getElementById('adminBtn').classList.remove('d-none');
                        document.getElementById('logoutBtn').classList.remove('d-none');
                        
                        // Update mobile buttons
                        document.getElementById('mobileLoginBtn').classList.add('d-none');
                        document.getElementById('mobileRegisterBtn').classList.add('d-none');
                        document.getElementById('mobileAdminBtn').classList.remove('d-none');
                        document.getElementById('mobileLogoutBtn').classList.remove('d-none');
                        
                        // Close register modal
                        document.getElementById('registerModal').classList.remove('show');
                        setTimeout(() => {
                            document.getElementById('registerModal').style.display = 'none';
                        }, 400);
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        showNotification('Google Sign-In failed: ' + errorMessage, 'error');
                    });
            });
            
            // Submit save CV form - SECURE IMPLEMENTATION
            document.getElementById('submitSave').addEventListener('click', function() {
                const title = document.getElementById('cvTitle').value;
                
                if (!title) {
                    showNotification('Please enter a title for your CV', 'error');
                    return;
                }
                
                // Show loading spinner
                document.getElementById('saveSpinner').style.display = 'block';
                
                // Get current user
                const user = auth.currentUser;
                if (!user) {
                    document.getElementById('saveSpinner').style.display = 'none';
                    showNotification('Please log in to save your CV', 'error');
                    return;
                }
                
                // Get CV data
                const cvData = getFormData();
                const description = document.getElementById('cvDescription').value;
                
                // Save to Firebase with SECURE structure
                const userCVsRef = database.ref('userCVs/' + user.uid);
                const cvRef = userCVsRef.push();
                
                cvRef.set({
                    title: title,
                    description: description,
                    data: cvData,
                    createdAt: new Date().toISOString(),
                    userId: user.uid // Additional security: store user ID with data
                }).then(() => {
                    document.getElementById('saveSpinner').style.display = 'none';
                    document.getElementById('saveModal').classList.remove('show');
                    setTimeout(() => {
                        document.getElementById('saveModal').style.display = 'none';
                    }, 400);
                    showNotification('CV saved successfully! You can access it from your dashboard.', 'success');
                    
                    // Clear form fields
                    document.getElementById('cvTitle').value = '';
                    document.getElementById('cvDescription').value = '';
                }).catch((error) => {
                    document.getElementById('saveSpinner').style.display = 'none';
                    showNotification('Failed to save CV: ' + error.message, 'error');
                });
            });
            
            // Submit contact form
            document.getElementById('submitContact').addEventListener('click', function() {
                const name = document.getElementById('contactName').value;
                const email = document.getElementById('contactEmail').value;
                const message = document.getElementById('contactMessage').value;
                
                if (!name || !email || !message) {
                    showNotification('Please fill in all fields', 'error');
                    return;
                }
                
                // Show loading spinner
                document.getElementById('contactSpinner').style.display = 'block';
                
                // Save contact form data to Firebase
                const contactRef = database.ref('contacts').push();
                contactRef.set({
                    name: name,
                    email: email,
                    message: message,
                    timestamp: new Date().toISOString()
                }).then(() => {
                    document.getElementById('contactSpinner').style.display = 'none';
                    document.getElementById('contactModal').classList.remove('show');
                    setTimeout(() => {
                        document.getElementById('contactModal').style.display = 'none';
                    }, 400);
                    showNotification('Message sent successfully! We\'ll get back to you soon.', 'success');
                    
                    // Clear form
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactMessage').value = '';
                }).catch((error) => {
                    document.getElementById('contactSpinner').style.display = 'none';
                    showNotification('Failed to send message: ' + error.message, 'error');
                });
            });
            
            // Logout functionality
            document.getElementById('logoutBtn').addEventListener('click', function() {
                auth.signOut().then(() => {
                    document.getElementById('loginBtn').classList.remove('d-none');
                    document.getElementById('registerBtn').classList.remove('d-none');
                    document.getElementById('adminBtn').classList.add('d-none');
                    document.getElementById('logoutBtn').classList.add('d-none');
                    
                    // Update mobile buttons
                    document.getElementById('mobileLoginBtn').classList.remove('d-none');
                    document.getElementById('mobileRegisterBtn').classList.remove('d-none');
                    document.getElementById('mobileAdminBtn').classList.add('d-none');
                    document.getElementById('mobileLogoutBtn').classList.add('d-none');
                    
                    showNotification('You have been logged out', 'info');
                }).catch((error) => {
                    showNotification('Logout failed: ' + error.message, 'error');
                });
            });
            
            // Mobile logout
            document.getElementById('mobileLogoutBtn').addEventListener('click', function() {
                document.getElementById('logoutBtn').click();
                document.getElementById('mobileNav').classList.remove('active');
            });
            
            // Add experience, education, and skill fields
            document.getElementById('addExperience').addEventListener('click', addExperienceField);
            document.getElementById('addEducation').addEventListener('click', addEducationField);
            document.getElementById('addSkill').addEventListener('click', addSkillField);
            
            // Initialize with one of each field
            addExperienceField();
            addEducationField();
            addSkillField();
            
            // Mobile menu functionality
            document.getElementById('mobileMenuBtn').addEventListener('click', function(e) {
                e.stopPropagation();
                document.getElementById('mobileNav').classList.toggle('active');
            });
            
            // Close mobile menu when clicking outside or on links
            document.addEventListener('click', function(event) {
                const mobileNav = document.getElementById('mobileNav');
                const mobileMenuBtn = document.getElementById('mobileMenuBtn');
                
                if (mobileNav.classList.contains('active') && 
                    !mobileNav.contains(event.target) && 
                    !mobileMenuBtn.contains(event.target)) {
                    mobileNav.classList.remove('active');
                }
            });
            
            // Close mobile menu when clicking on links
            document.querySelectorAll('.mobile-nav a').forEach(link => {
                link.addEventListener('click', function() {
                    document.getElementById('mobileNav').classList.remove('active');
                });
            });
            
            // Template gallery functionality
            document.querySelectorAll('.use-template').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const templateCard = this.closest('.template-card');
                    const template = templateCard.getAttribute('data-template');
                    
                    // Set the template as active in main selector
                    document.querySelectorAll('.template-option').forEach(option => {
                        option.classList.remove('active');
                        if (option.getAttribute('data-template') === template) {
                            option.classList.add('active');
                        }
                    });
                    
                    // Update current template display
                    document.getElementById('currentTemplate').textContent = 
                        template.charAt(0).toUpperCase() + template.slice(1);
                    
                    // Regenerate preview
                    generatePreview();
                    
                    // Close gallery
                    document.getElementById('templateGallery').style.display = 'none';
                    
                    showNotification(`Template changed to ${template}`, 'success');
                });
            });
            
            // Template preview functionality
            document.querySelectorAll('.preview-template').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const templateCard = this.closest('.template-card');
                    const template = templateCard.getAttribute('data-template');
                    
                    // Set the template as active temporarily for preview
                    document.querySelectorAll('.template-option').forEach(option => {
                        option.classList.remove('active');
                        if (option.getAttribute('data-template') === template) {
                            option.classList.add('active');
                        }
                    });
                    
                    // Update current template display
                    document.getElementById('currentTemplate').textContent = 
                        template.charAt(0).toUpperCase() + template.slice(1);
                    
                    // Regenerate preview
                    generatePreview();
                    
                    // Scroll to preview section
                    document.querySelector('.preview-section').scrollIntoView({ behavior: 'smooth' });
                    
                    // Show notification
                    showNotification(`Previewing ${template} template`, 'info');
                    
                    // Close gallery
                    document.getElementById('templateGallery').style.display = 'none';
                });
            });
            
            // Close template gallery
            document.querySelector('.gallery-close').addEventListener('click', function() {
                document.getElementById('templateGallery').style.display = 'none';
            });
            
            // Photo upload functionality - FIXED
            document.getElementById('photoUploadBtn').addEventListener('click', function() {
                document.getElementById('photoUpload').click();
            });
            
            document.getElementById('photoUpload').addEventListener('change', function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const photoPreview = document.getElementById('photoPreview');
                        photoPreview.innerHTML = '';
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        photoPreview.appendChild(img);
                        generatePreview();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                    
                    // Close mobile menu after clicking
                    document.getElementById('mobileNav').classList.remove('active');
                });
            });

            // Clear placeholder text on focus for new users
            document.querySelectorAll('#certifications, #projects, #interests, #languages').forEach(field => {
                field.addEventListener('focus', function() {
                    if (this.value === this.getAttribute('placeholder')) {
                        this.value = '';
                    }
                });
                
                // Initialize with placeholder text
                if (field.value === '') {
                    field.value = field.getAttribute('placeholder');
                }
            });
        });
        
        // FUNCTION: Initialize auto-save - MODIFIED FOR NEW USERS
        function initAutoSave() {
            // Don't load any saved data for new users
            // This ensures every new user starts with a clean form
            localStorage.removeItem('tameerkhi-cv-data');
            
            // Clear any existing form data
            document.getElementById('fullName').value = '';
            document.getElementById('profession').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('address').value = '';
            document.getElementById('linkedin').value = '';
            document.getElementById('summary').value = '';
            document.getElementById('languages').value = 'English (Native), Spanish (Intermediate)';
            document.getElementById('certifications').value = 'List your certifications...';
            document.getElementById('projects').value = 'Describe your key projects...';
            document.getElementById('interests').value = 'Photography, Travel, Reading';
            
            // Clear photo
            const photoPreview = document.getElementById('photoPreview');
            photoPreview.innerHTML = '<i class="fas fa-user" style="font-size: 3rem;"></i>';
            
            // Clear dynamic fields
            document.getElementById('experienceContainer').innerHTML = '';
            document.getElementById('educationContainer').innerHTML = '';
            document.getElementById('skillsContainer').innerHTML = '';
            
            // Add initial fields
            addExperienceField();
            addEducationField();
            addSkillField();
            
            // Generate initial preview
            generatePreview();
            updateProgressBar();
        }
        
        // FUNCTION: Auto-save data
        function autoSaveData() {
            const formData = getFormData();
            localStorage.setItem('tameerkhi-cv-data', JSON.stringify(formData));
            
            // Show auto-save indicator
            const indicator = document.getElementById('autoSaveIndicator');
            indicator.style.display = 'flex';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }
        
        // FUNCTION: Update progress bar
        function updateProgressBar() {
            const formData = getFormData();
            let progress = 0;
            
            // Calculate progress based on filled fields
            if (formData.personal.fullName) progress += 10;
            if (formData.personal.profession) progress += 10;
            if (formData.personal.email) progress += 10;
            if (formData.personal.phone) progress += 10;
            if (formData.summary) progress += 10;
            if (formData.experiences.length > 0 && formData.experiences[0].title) progress += 20;
            if (formData.education.length > 0 && formData.education[0].degree) progress += 20;
            if (formData.skills.length > 0 && formData.skills[0]) progress += 10;
            
            document.getElementById('cvProgress').style.width = progress + '%';
        }
        
        // FUNCTION: Apply theme colors
        function applyTheme(theme) {
            const root = document.documentElement;
            
            switch(theme) {
                case 'blue':
                    root.style.setProperty('--accent', '#3498db');
                    root.style.setProperty('--primary', '#2c3e50');
                    break;
                case 'red':
                    root.style.setProperty('--accent', '#e74c3c');
                    root.style.setProperty('--primary', '#c0392b');
                    break;
                case 'green':
                    root.style.setProperty('--accent', '#27ae60');
                    root.style.setProperty('--primary', '#229954');
                    break;
                case 'gold':
                    root.style.setProperty('--accent', '#f39c12');
                    root.style.setProperty('--primary', '#e67e22');
                    break;
                case 'purple':
                    root.style.setProperty('--accent', '#9b59b6');
                    root.style.setProperty('--primary', '#8e44ad');
                    break;
            }
        }
        
        // FUNCTION: Apply font family
        function applyFont(font) {
            const root = document.documentElement;
            
            switch(font) {
                case 'inter':
                    root.style.setProperty('--font-primary', 'Inter, sans-serif');
                    break;
                case 'poppins':
                    root.style.setProperty('--font-primary', 'Poppins, sans-serif');
                    break;
            }
        }
        
        // FUNCTION: Apply font size
        function applyFontSize(size) {
            document.documentElement.style.setProperty('--base-font-size', size);
        }
        
        // Function to show notifications
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            // Hide notification after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Function to add experience field
        function addExperienceField() {
            const container = document.getElementById('experienceContainer');
            const newField = document.createElement('div');
            newField.className = 'item-group';
            newField.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-user-tie"></i> Job Title</label>
                        <input type="text" class="form-control experience-title" placeholder="Senior Developer">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-building"></i> Company</label>
                        <input type="text" class="form-control experience-company" placeholder="Tech Solutions Inc.">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i> Start Date</label>
                        <input type="month" class="form-control experience-start">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i> End Date</label>
                        <input type="month" class="form-control experience-end" placeholder="Present">
                    </div>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-tasks"></i> Description <span class="optional-badge">Optional</span></label>
                    <textarea class="form-control experience-description" rows="3" placeholder="Describe your responsibilities and achievements..."></textarea>
                </div>
                <button class="remove-btn"><i class="fas fa-trash"></i> Remove</button>
            `;
            
            container.appendChild(newField);
            
            // Add event listener to the new remove button
            newField.querySelector('.remove-btn').addEventListener('click', function() {
                container.removeChild(newField);
                generatePreview();
                updateProgressBar();
            });
            
            // Add event listeners to new inputs for real-time preview
            newField.querySelectorAll('input, textarea').forEach(input => {
                input.addEventListener('input', function() {
                    generatePreview();
                    updateProgressBar();
                    clearTimeout(window.autoSaveTimeout);
                    window.autoSaveTimeout = setTimeout(autoSaveData, 1000);
                });
            });
            
            generatePreview();
            updateProgressBar();
        }
        
        // Function to add education field
        function addEducationField() {
            const container = document.getElementById('educationContainer');
            const newField = document.createElement('div');
            newField.className = 'item-group';
            newField.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-certificate"></i> Degree</label>
                        <input type="text" class="form-control education-degree" placeholder="Bachelor of Science">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-university"></i> Institution</label>
                        <input type="text" class="form-control education-institution" placeholder="University of Example">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i> Start Date</label>
                        <input type="month" class="form-control education-start">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i> End Date</label>
                        <input type="month" class="form-control education-end">
                    </div>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-tasks"></i> Description <span class="optional-badge">Optional</span></label>
                    <textarea class="form-control education-description" rows="2" placeholder="Relevant coursework, achievements..."></textarea>
                </div>
                <button class="remove-btn"><i class="fas fa-trash"></i> Remove</button>
            `;
            
            container.appendChild(newField);
            
            // Add event listener to the new remove button
            newField.querySelector('.remove-btn').addEventListener('click', function() {
                container.removeChild(newField);
                generatePreview();
                updateProgressBar();
            });
            
            // Add event listeners to new inputs for real-time preview
            newField.querySelectorAll('input, textarea').forEach(input => {
                input.addEventListener('input', function() {
                    generatePreview();
                    updateProgressBar();
                    clearTimeout(window.autoSaveTimeout);
                    window.autoSaveTimeout = setTimeout(autoSaveData, 1000);
                });
            });
            
            generatePreview();
            updateProgressBar();
        }
        
        // Function to add skill field
        function addSkillField() {
            const container = document.getElementById('skillsContainer');
            const newField = document.createElement('div');
            newField.className = 'form-group';
            newField.innerHTML = `
                <input type="text" class="form-control skill-input" placeholder="JavaScript, Project Management, etc.">
                <button class="remove-btn"><i class="fas fa-trash"></i> Remove</button>
            `;
            
            container.appendChild(newField);
            
            // Add event listener to the new remove button
            newField.querySelector('.remove-btn').addEventListener('click', function() {
                container.removeChild(newField);
                generatePreview();
                updateProgressBar();
            });
            
            // Add event listener to new input for real-time preview
            newField.querySelector('input').addEventListener('input', function() {
                generatePreview();
                updateProgressBar();
                clearTimeout(window.autoSaveTimeout);
                window.autoSaveTimeout = setTimeout(autoSaveData, 1000);
            });
            
            generatePreview();
            updateProgressBar();
        }
        
        // Function to generate the CV preview
        function generatePreview() {
            const previewContainer = document.getElementById('cvPreview');
            const selectedTemplate = document.querySelector('.template-option.active').getAttribute('data-template');
            
            // Get form data
            const formData = getFormData();
            
            // Generate HTML based on template
            let cvHTML = '';
            
            switch(selectedTemplate) {
                case 'modern':
                    cvHTML = generateModernTemplate(formData);
                    break;
                case 'minimal':
                    cvHTML = generateMinimalTemplate(formData);
                    break;
                case 'business':
                    cvHTML = generateBusinessTemplate(formData);
                    break;
                case 'creative':
                    cvHTML = generateCreativeTemplate(formData);
                    break;
                case 'professional':
                    cvHTML = generateProfessionalTemplate(formData);
                    break;
                case 'executive':
                    cvHTML = generateExecutiveTemplate(formData);
                    break;
                case 'academic':
                    cvHTML = generateAcademicTemplate(formData);
                    break;
                case 'simple':
                    cvHTML = generateSimpleTemplate(formData);
                    break;
                case 'elegant':
                    cvHTML = generateElegantTemplate(formData);
                    break;
                case 'technical':
                    cvHTML = generateTechnicalTemplate(formData);
                    break;
                default:
                    cvHTML = generateModernTemplate(formData);
            }
            
            previewContainer.innerHTML = cvHTML;
            previewContainer.className = `cv-preview template-${selectedTemplate}`;
            
            // Apply font size to preview
            const fontSize = document.getElementById('fontSizeSlider').value + 'px';
            previewContainer.style.fontSize = fontSize;
        }
        
        // Function to get form data
        function getFormData() {
            const photoPreview = document.getElementById('photoPreview');
            const photoImg = photoPreview.querySelector('img');
            const photoSrc = photoImg ? photoImg.src : null;
            
            return {
                personal: {
                    fullName: document.getElementById('fullName').value || '',
                    profession: document.getElementById('profession').value || '',
                    email: document.getElementById('email').value || '',
                    phone: document.getElementById('phone').value || '',
                    address: document.getElementById('address').value || '',
                    photo: photoSrc,
                    linkedin: document.getElementById('linkedin').value || ''
                },
                summary: document.getElementById('summary').value || '',
                experiences: Array.from(document.querySelectorAll('#experienceContainer .item-group')).map(exp => ({
                    title: exp.querySelector('.experience-title').value || '',
                    company: exp.querySelector('.experience-company').value || '',
                    start: exp.querySelector('.experience-start').value || '',
                    end: exp.querySelector('.experience-end').value || '',
                    description: exp.querySelector('.experience-description').value || ''
                })),
                education: Array.from(document.querySelectorAll('#educationContainer .item-group')).map(edu => ({
                    degree: edu.querySelector('.education-degree').value || '',
                    institution: edu.querySelector('.education-institution').value || '',
                    start: edu.querySelector('.education-start').value || '',
                    end: edu.querySelector('.education-end').value || '',
                    description: edu.querySelector('.education-description').value || ''
                })),
                skills: Array.from(document.querySelectorAll('#skillsContainer .skill-input')).map(skill => 
                    skill.value || ''
                ).filter(skill => skill.trim() !== ''),
                languages: document.getElementById('languages').value || '',
                certifications: document.getElementById('certifications').value || '',
                projects: document.getElementById('projects').value || '',
                interests: document.getElementById('interests').value || ''
            };
        }
        
        // Template generation functions - FIXED FOR ALL 10 TEMPLATES
        function generateModernTemplate(data) {
            return `
                <div class="cv-template modern">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-sidebar">
                            ${data.personal.photo ? `
                                <div class="cv-photo">
                                    <img src="${data.personal.photo}" alt="${data.personal.fullName || 'Your Name'}">
                                </div>
                            ` : ''}
                            
                            <div class="cv-section">
                                <div class="cv-section-title">Contact</div>
                                <div class="cv-contact">
                                    <div><i class="fas fa-envelope"></i> ${data.personal.email || 'your.email@example.com'}</div>
                                    <div><i class="fas fa-phone"></i> ${data.personal.phone || '+1 (555) 123-4567'}</div>
                                    <div><i class="fas fa-map-marker-alt"></i> ${data.personal.address || 'City, Country'}</div>
                                    ${data.personal.linkedin ? `<div><i class="fab fa-linkedin"></i> ${data.personal.linkedin}</div>` : ''}
                                </div>
                            </div>
                            
                            ${data.skills.length > 0 ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Skills</div>
                                <div class="cv-skills">
                                    ${data.skills.map(skill => `
                                        <div class="skill-tag">${skill}</div>
                                    `).join('')}
                                </div>
                            </div>
                            ` : ''}
                            
                            ${data.languages ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Languages</div>
                                <p>${data.languages}</p>
                            </div>
                            ` : ''}
                        </div>
                        
                        <div class="cv-main">
                            <div class="cv-section">
                                <div class="cv-section-title">Professional Summary</div>
                                <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                            </div>
                            
                            ${data.experiences.length > 0 && data.experiences[0].title ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Work Experience</div>
                                ${data.experiences.map(exp => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${exp.title}</div>
                                        <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                        <p>${exp.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                            
                            ${data.education.length > 0 && data.education[0].degree ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Education</div>
                                ${data.education.map(edu => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${edu.degree}</div>
                                        <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                        <p>${edu.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }
        
        function generateProfessionalTemplate(data) {
            return `
                <div class="cv-template professional">
                    <div class="cv-header">
                        ${data.personal.photo ? `
                            <div class="cv-photo">
                                <img src="${data.personal.photo}" alt="${data.personal.fullName || 'Your Name'}">
                            </div>
                        ` : '<div class="cv-photo"><i class="fas fa-user" style="font-size: 3rem; color: white;"></i></div>'}
                        <div class="cv-header-text">
                            <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                            <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                        </div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-sidebar">
                            <div class="cv-section">
                                <div class="cv-section-title">Contact</div>
                                <div class="cv-contact">
                                    <div><i class="fas fa-envelope"></i> ${data.personal.email || 'your.email@example.com'}</div>
                                    <div><i class="fas fa-phone"></i> ${data.personal.phone || '+1 (555) 123-4567'}</div>
                                    <div><i class="fas fa-map-marker-alt"></i> ${data.personal.address || 'City, Country'}</div>
                                    ${data.personal.linkedin ? `<div><i class="fab fa-linkedin"></i> ${data.personal.linkedin}</div>` : ''}
                                </div>
                            </div>
                            
                            ${data.skills.length > 0 ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Skills</div>
                                <div class="cv-skills">
                                    ${data.skills.map(skill => `
                                        <div class="skill-tag">${skill}</div>
                                    `).join('')}
                                </div>
                            </div>
                            ` : ''}
                        </div>
                        
                        <div class="cv-main">
                            <div class="cv-section">
                                <div class="cv-section-title">Professional Summary</div>
                                <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                            </div>
                            
                            ${data.experiences.length > 0 && data.experiences[0].title ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Work Experience</div>
                                ${data.experiences.map(exp => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${exp.title}</div>
                                        <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                        <p>${exp.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                            
                            ${data.education.length > 0 && data.education[0].degree ? `
                            <div class="cv-section">
                                <div class="cv-section-title">Education</div>
                                ${data.education.map(edu => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${edu.degree}</div>
                                        <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                        <p>${edu.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }
        
        function generateExecutiveTemplate(data) {
            return `
                <div class="cv-template executive">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title">Executive Summary</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Professional Experience</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title}</div>
                                    <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree}</div>
                                    <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Core Competencies</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        // NEW TEMPLATE GENERATION FUNCTIONS FOR THE 4 MISSING TEMPLATES
        
        function generateAcademicTemplate(data) {
            return `
                <div class="cv-template academic">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title">Academic Profile</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Research & Experience</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title}</div>
                                    <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree}</div>
                                    <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Research Skills</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function generateSimpleTemplate(data) {
            return `
                <div class="cv-template simple">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                        <div class="cv-contact">
                            <span>${data.personal.email || 'your.email@example.com'}</span> | 
                            <span>${data.personal.phone || '+1 (555) 123-4567'}</span> | 
                            <span>${data.personal.address || 'City, Country'}</span>
                        </div>
                    </div>
                    
                    <div class="cv-section">
                        <div class="cv-section-title">Summary</div>
                        <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                    </div>
                    
                    ${data.experiences.length > 0 && data.experiences[0].title ? `
                    <div class="cv-section">
                        <div class="cv-section-title">Experience</div>
                        ${data.experiences.map(exp => `
                            <div class="cv-item">
                                <div class="cv-item-title">${exp.title} - ${exp.company}</div>
                                <div class="cv-item-subtitle">${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                <p>${exp.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${data.education.length > 0 && data.education[0].degree ? `
                    <div class="cv-section">
                        <div class="cv-section-title">Education</div>
                        ${data.education.map(edu => `
                            <div class="cv-item">
                                <div class="cv-item-title">${edu.degree} - ${edu.institution}</div>
                                <div class="cv-item-subtitle">${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                <p>${edu.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${data.skills.length > 0 ? `
                    <div class="cv-section">
                        <div class="cv-section-title">Skills</div>
                        <div class="cv-skills">
                            ${data.skills.map(skill => `
                                <div class="skill-tag">${skill}</div>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}
                </div>
            `;
        }
        
        function generateElegantTemplate(data) {
            return `
                <div class="cv-template elegant">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title">Professional Profile</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Career History</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title}</div>
                                    <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree}</div>
                                    <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Core Competencies</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function generateTechnicalTemplate(data) {
            return `
                <div class="cv-template technical">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title">Technical Summary</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Technical Experience</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title}</div>
                                    <div class="cv-item-subtitle">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Education & Certifications</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree}</div>
                                    <div class="cv-item-subtitle">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Technical Skills</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                        
                        ${data.projects ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Projects</div>
                            <p>${data.projects}</p>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        // Additional template functions for Business and Creative
        function generateBusinessTemplate(data) {
            return `
                <div class="cv-template executive">
                    <div class="cv-header" style="background: linear-gradient(45deg, #c0392b, #e74c3c);">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title" style="border-bottom-color: #c0392b;">Professional Summary</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title" style="border-bottom-color: #c0392b;">Work Experience</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title}</div>
                                    <div class="cv-item-subtitle" style="color: #c0392b;">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title" style="border-bottom-color: #c0392b;">Education</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree}</div>
                                    <div class="cv-item-subtitle" style="color: #c0392b;">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title" style="border-bottom-color: #c0392b;">Skills</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag" style="background: #c0392b;">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function generateCreativeTemplate(data) {
            return `
                <div class="cv-template modern">
                    <div class="cv-header" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-sidebar" style="background: #f9f0ff;">
                            ${data.personal.photo ? `
                                <div class="cv-photo">
                                    <img src="${data.personal.photo}" alt="${data.personal.fullName || 'Your Name'}">
                                </div>
                            ` : ''}
                            
                            <div class="cv-section">
                                <div class="cv-section-title" style="border-bottom-color: #9b59b6;">Contact</div>
                                <div class="cv-contact">
                                    <div><i class="fas fa-envelope"></i> ${data.personal.email || 'your.email@example.com'}</div>
                                    <div><i class="fas fa-phone"></i> ${data.personal.phone || '+1 (555) 123-4567'}</div>
                                    <div><i class="fas fa-map-marker-alt"></i> ${data.personal.address || 'City, Country'}</div>
                                    ${data.personal.linkedin ? `<div><i class="fab fa-linkedin"></i> ${data.personal.linkedin}</div>` : ''}
                                </div>
                            </div>
                            
                            ${data.skills.length > 0 ? `
                            <div class="cv-section">
                                <div class="cv-section-title" style="border-bottom-color: #9b59b6;">Skills</div>
                                <div class="cv-skills">
                                    ${data.skills.map(skill => `
                                        <div class="skill-tag" style="background: #9b59b6;">${skill}</div>
                                    `).join('')}
                                </div>
                            </div>
                            ` : ''}
                        </div>
                        
                        <div class="cv-main">
                            <div class="cv-section">
                                <div class="cv-section-title" style="border-bottom-color: #9b59b6;">About Me</div>
                                <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                            </div>
                            
                            ${data.experiences.length > 0 && data.experiences[0].title ? `
                            <div class="cv-section">
                                <div class="cv-section-title" style="border-bottom-color: #9b59b6;">Experience</div>
                                ${data.experiences.map(exp => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${exp.title}</div>
                                        <div class="cv-item-subtitle" style="color: #9b59b6;">${exp.company} | ${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                        <p>${exp.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                            
                            ${data.education.length > 0 && data.education[0].degree ? `
                            <div class="cv-section">
                                <div class="cv-section-title" style="border-bottom-color: #9b59b6;">Education</div>
                                ${data.education.map(edu => `
                                    <div class="cv-item">
                                        <div class="cv-item-title">${edu.degree}</div>
                                        <div class="cv-item-subtitle" style="color: #9b59b6;">${edu.institution} | ${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                        <p>${edu.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }
        
        function generateMinimalTemplate(data) {
            return `
                <div class="cv-template minimal">
                    <div class="cv-header">
                        <div class="cv-name">${data.personal.fullName || 'Your Name'}</div>
                        <div class="cv-profession">${data.personal.profession || 'Your Profession'}</div>
                    </div>
                    <div class="cv-content">
                        <div class="cv-section">
                            <div class="cv-section-title">Summary</div>
                            <div class="cv-summary">${data.summary || 'Experienced professional with a proven track record of success...'}</div>
                        </div>
                        
                        ${data.experiences.length > 0 && data.experiences[0].title ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            ${data.experiences.map(exp => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${exp.title} - ${exp.company}</div>
                                    <div class="cv-item-dates">${formatDate(exp.start)} - ${formatDate(exp.end)}</div>
                                    <p>${exp.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.education.length > 0 && data.education[0].degree ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            ${data.education.map(edu => `
                                <div class="cv-item">
                                    <div class="cv-item-title">${edu.degree} - ${edu.institution}</div>
                                    <div class="cv-item-dates">${formatDate(edu.start)} - ${formatDate(edu.end)}</div>
                                    <p>${edu.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        ` : ''}
                        
                        ${data.skills.length > 0 ? `
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div class="cv-skills">
                                ${data.skills.map(skill => `
                                    <div class="skill-tag">${skill}</div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        // Helper function to format dates
        function formatDate(dateString) {
            if (!dateString || dateString === 'Present') return 'Present';
            
            const date = new Date(dateString + '-01');
            return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short' });
        }
        
        // Enhanced Function to download CV
        function downloadCV(format) {
            showNotification(`Preparing your CV download in ${format.toUpperCase()} format...`, 'info');
            
            switch(format) {
                case 'pdf':
                    downloadAsPDF();
                    break;
                case 'docx':
                    downloadAsDOCX();
                    break;
                case 'txt':
                    downloadAsText();
                    break;
            }
        }
        
        // Enhanced Function to download as PDF - Single Page
        function downloadAsPDF() {
            const { jsPDF } = window.jspdf;
            
            // Get the CV preview element
            const element = document.getElementById('cvPreview');
            
            // Store original styles
            const originalWidth = element.style.width;
            const originalHeight = element.style.height;
            const originalOverflow = element.style.overflow;
            
            // Set A4 dimensions for PDF generation
            element.style.width = '794px';
            element.style.height = 'auto';
            element.style.overflow = 'visible';
            
            // Add single-page class to limit height
            element.classList.add('single-page');
            
            // Use html2canvas with optimized settings for single page
            html2canvas(element, {
                scale: 2,
                useCORS: true,
                logging: false,
                backgroundColor: '#ffffff',
                width: 794,
                height: Math.min(element.scrollHeight, 1122),
                scrollX: 0,
                scrollY: 0,
                windowWidth: 794,
                windowHeight: Math.min(element.scrollHeight, 1122)
            }).then(canvas => {
                // Restore original styles
                element.style.width = originalWidth;
                element.style.height = originalHeight;
                element.style.overflow = originalOverflow;
                element.classList.remove('single-page');
                
                const imgData = canvas.toDataURL('image/jpeg', 1.0);
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                const imgWidth = 210;
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                // Add the image to PDF (single page)
                pdf.addImage(imgData, 'JPEG', 0, 0, imgWidth, imgHeight);
                
                // Download the PDF
                const fileName = document.getElementById('fullName').value || 'My_CV';
                pdf.save(`${fileName.replace(/\s+/g, '_')}_CV.pdf`);
                
                showNotification('PDF downloaded successfully!', 'success');
                
            }).catch(error => {
                // Restore original styles in case of error
                element.style.width = originalWidth;
                element.style.height = originalHeight;
                element.style.overflow = originalOverflow;
                element.classList.remove('single-page');
                
                console.error('PDF generation error:', error);
                showNotification('Error generating PDF. Please try again.', 'error');
            });
        }
        
        // Function to download as DOCX
        function downloadAsDOCX() {
            const formData = getFormData();
            const content = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>${formData.personal.fullName} - CV</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; }
                        h1 { color: #2c3e50; margin-bottom: 5px; }
                        h2 { color: #3498db; margin-top: 0; }
                        .section { margin-bottom: 20px; }
                        .section-title { border-bottom: 2px solid #3498db; padding-bottom: 5px; margin-bottom: 10px; font-weight: bold; }
                    </style>
                </head>
                <body>
                    <h1>${formData.personal.fullName || 'Your Name'}</h1>
                    <h2>${formData.personal.profession || 'Your Profession'}</h2>
                    <p>${formData.personal.email || 'your.email@example.com'} | ${formData.personal.phone || '+1 (555) 123-4567'} | ${formData.personal.address || 'City, Country'}</p>
                    
                    <div class="section">
                        <div class="section-title">PROFESSIONAL SUMMARY</div>
                        <p>${formData.summary || 'Experienced professional with a proven track record of success...'}</p>
                    </div>
                    
                    ${formData.experiences.length > 0 && formData.experiences[0].title ? `
                    <div class="section">
                        <div class="section-title">WORK EXPERIENCE</div>
                        ${formData.experiences.map(exp => `
                            <div>
                                <p><strong>${exp.title}</strong> at ${exp.company} (${formatDate(exp.start)} - ${formatDate(exp.end)})</p>
                                <p>${exp.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${formData.education.length > 0 && formData.education[0].degree ? `
                    <div class="section">
                        <div class="section-title">EDUCATION</div>
                        ${formData.education.map(edu => `
                            <div>
                                <p><strong>${edu.degree}</strong> from ${edu.institution} (${formatDate(edu.start)} - ${formatDate(edu.end)})</p>
                                <p>${edu.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                    
                    ${formData.skills.length > 0 ? `
                    <div class="section">
                        <div class="section-title">SKILLS</div>
                        <p>${formData.skills.join(', ')}</p>
                    </div>
                    ` : ''}
                </body>
                </html>
            `;
            
            const blob = new Blob([content], { 
                type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' 
            });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${formData.personal.fullName || 'My'}_CV.docx`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Word document downloaded!', 'success');
        }
        
        // Function to download as text
        function downloadAsText() {
            const formData = getFormData();
            let textContent = `PROFESSIONAL CV\n`;
            textContent += `================\n\n`;
            textContent += `Name: ${formData.personal.fullName || 'Your Name'}\n`;
            textContent += `Profession: ${formData.personal.profession || 'Your Profession'}\n`;
            textContent += `Email: ${formData.personal.email || 'your.email@example.com'}\n`;
            textContent += `Phone: ${formData.personal.phone || '+1 (555) 123-4567'}\n`;
            textContent += `Address: ${formData.personal.address || 'City, Country'}\n\n`;
            
            textContent += `PROFESSIONAL SUMMARY\n`;
            textContent += `====================\n`;
            textContent += `${formData.summary || 'Experienced professional with a proven track record of success...'}\n\n`;
            
            if (formData.experiences.length > 0 && formData.experiences[0].title) {
                textContent += `WORK EXPERIENCE\n`;
                textContent += `===============\n`;
                formData.experiences.forEach(exp => {
                    textContent += `${exp.title} at ${exp.company} (${formatDate(exp.start)} - ${formatDate(exp.end)})\n`;
                    textContent += `${exp.description}\n\n`;
                });
            }
            
            if (formData.education.length > 0 && formData.education[0].degree) {
                textContent += `EDUCATION\n`;
                textContent += `=========\n`;
                formData.education.forEach(edu => {
                    textContent += `${edu.degree} from ${edu.institution} (${formatDate(edu.start)} - ${formatDate(edu.end)})\n`;
                    textContent += `${edu.description}\n\n`;
                });
            }
            
            if (formData.skills.length > 0) {
                textContent += `SKILLS\n`;
                textContent += `======\n`;
                formData.skills.forEach(skill => {
                    textContent += `- ${skill}\n`;
                });
                textContent += `\n`;
            }
            
            // Create and download the text file
            const blob = new Blob([textContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Professional_CV.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Text file downloaded successfully!', 'success');
        }
    </script>
</body>
</html>
